<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SmootherExps · DataAssimilationBenchmarks</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">DataAssimilationBenchmarks</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">DataAssimilationBenchmarks</span><ul><li><a class="tocitem" href="../../../home/Introduction/">Introduction</a></li><li><a class="tocitem" href="../../../home/Getting Started/">Getting Started</a></li><li><a class="tocitem" href="../../../home/DataAssimilationBenchmarks/">Global Types</a></li></ul></li><li><span class="tocitem">Submodules</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../models/L96/">L96</a></li><li><a class="tocitem" href="../../models/IEEE39bus/">IEEE39bus</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Methods</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../methods/DeSolvers/">DeSolvers</a></li><li><a class="tocitem" href="../../methods/EnsembleKalmanSchemes/">EnsembleKalmanSchemes</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Experiments</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../GenerateTimeSeries/">GenerateTimeSeries</a></li><li><a class="tocitem" href="../FilterExps/">FilterExps</a></li><li class="is-active"><a class="tocitem" href>SmootherExps</a><ul class="internal"><li><a class="tocitem" href="#SmootherExps-API"><span>SmootherExps API</span></a></li><li><a class="tocitem" href="#Docstrings"><span>Docstrings</span></a></li></ul></li><li><a class="tocitem" href="../SingleExperimentDriver/">SingleExperimentDriver</a></li><li><a class="tocitem" href="../Slurm/">Slurm</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../analysis/ProcessExperimentData/">ProcessExperimentData</a></li><li><a class="tocitem" href="../../analysis/PlotExperimentData/">PlotExperimentData</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Submodules</a></li><li><a class="is-disabled">Experiments</a></li><li class="is-active"><a href>SmootherExps</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SmootherExps</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/master/docs/src/submodules/experiments/SmootherExps.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SmootherExps"><a class="docs-heading-anchor" href="#SmootherExps">SmootherExps</a><a id="SmootherExps-1"></a><a class="docs-heading-anchor-permalink" href="#SmootherExps" title="Permalink"></a></h1><h2 id="SmootherExps-API"><a class="docs-heading-anchor" href="#SmootherExps-API">SmootherExps API</a><a id="SmootherExps-API-1"></a><a class="docs-heading-anchor-permalink" href="#SmootherExps-API" title="Permalink"></a></h2><p>The <code>SmootherExps.jl</code> sub-module configures twin experiments using stored time series data as generated above for  efficiency when using the same base-line time series to generate possibly different experiment configurations. Experiment configurations are generated by function calls as with the filter experiments, but with the additional options of how the outer-loop is configured with a classic, single-iteration or the fully iterative Gauss-Newton style smoother. The parameters <code>lag</code> and <code>shift</code> specify how the data assimilation windows are translated in over the observation and analysis times.  The <code>mda</code> parameter is only applicable to the single-iteration and Gauss-Newton style smoothers, utlizing sequential multiple data assimilation.  Note, the single-iteration and fully iterative Gauss-Newton style smoothers are only defined for MDA compatible values of lag and shift where the lag is an integer multiple of the shift.</p><p>Currently debugged and validated smoother experiment configurations include</p><pre><code class="nohighlight hljs">classic_state          -- classic EnKS style state estimation
classic_param          -- classic EnKS style state-parameter estimation
single_iteration_state -- single-iteration EnKS state estimation
single_iteration_param -- single-iteration EnKS state-parameter estimation
iterative_state        -- Gauss-Newton style state estimation
iterative_param        -- Gauss-Newton style state-parameter estimation</code></pre><p>Other techniques are still in debugging and validation.  Each of these takes an analysis type as used in the <code>transform</code> function in the <code>EnsembleKalmanSchemes.jl</code> sub-module, like the filter analyses in the filter experiments.</p><p>All experiments are funcitonalized so that they can be called from an array of parameter values which will typically be varied with naive parallelism.  Relevant arguments and experimental results are dumped as a side effect to a dictionary in a JLD2. Experiments return their runtime in minutes.</p><h2 id="Docstrings"><a class="docs-heading-anchor" href="#Docstrings">Docstrings</a><a id="Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#Docstrings" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DataAssimilationBenchmarks.SmootherExps.classic_param-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :obs_un, :obs_dim, :γ, :p_err, :p_wlk, :N_ens, :s_infl, :p_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Float64, Int64, Float64, Float64, Float64, Int64, Float64, Float64}}}" href="#DataAssimilationBenchmarks.SmootherExps.classic_param-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :obs_un, :obs_dim, :γ, :p_err, :p_wlk, :N_ens, :s_infl, :p_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Float64, Int64, Float64, Float64, Float64, Int64, Float64, Float64}}}"><code>DataAssimilationBenchmarks.SmootherExps.classic_param</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">classic_param((time_series::String, method::String, seed::Int64, nanl::Int64, lag::Int64,
               shift::Int64, obs_un::Float64, obs_dim::Int64, γ::Float64, p_err::Float64,
               p_wlk::Float64, N_ens::Int64, s_infl::Float64,
               s_infl::Float64})::NamedTuple)</code></pre><p>Classic ensemble Kalman smoother joint state-parameter estimation twin experiment.  Twin experiment parameters such as the observation dimension, observation uncertainty, data assimilation method, number of cycles, ensemble size etc. are specified in the arguments. NOTE: the classic scheme does not use multiple data assimilation and we hard code <code>mda=false</code> in the function for consistency with other methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/2cb2df42a293a8923e99d2539df529908ca18258/src/experiments/SmootherExps.jl#L237-L248">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataAssimilationBenchmarks.SmootherExps.classic_state-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :obs_un, :obs_dim, :γ, :N_ens, :s_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Float64, Int64, Float64, Int64, Float64}}}" href="#DataAssimilationBenchmarks.SmootherExps.classic_state-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :obs_un, :obs_dim, :γ, :N_ens, :s_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Float64, Int64, Float64, Int64, Float64}}}"><code>DataAssimilationBenchmarks.SmootherExps.classic_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">classic_state((time_series::String, method::String, seed::Int64, nanl::Int64, lag::Int64,
               shift::Int64, obs_un::Float64, obs_dim::Int64, γ::Float64, N_ens::Int64, 
               s_infl::Float64)::NamedTuple)</code></pre><p>Classic ensemble Kalman smoother state estimation twin experiment.  Twin experiment parameters such as the observation dimension, observation uncertainty, data assimilation method, number of cycles, ensemble size etc. are specified in the arguments. NOTE: the classic scheme does not use multiple data assimilation and we hard code <code>mda=false</code> in the function for consistency with other methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/2cb2df42a293a8923e99d2539df529908ca18258/src/experiments/SmootherExps.jl#L14-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataAssimilationBenchmarks.SmootherExps.iterative_param-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :p_err, :p_wlk, :N_ens, :s_infl, :p_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Float64, Float64, Int64, Float64, Float64}}}" href="#DataAssimilationBenchmarks.SmootherExps.iterative_param-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :p_err, :p_wlk, :N_ens, :s_infl, :p_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Float64, Float64, Int64, Float64, Float64}}}"><code>DataAssimilationBenchmarks.SmootherExps.iterative_param</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">iterative_param((time_series:String, method:String, seed::Int64, nanl::Int64, lag::Int64,
                 shift::Int64, mda::Bool, obs_un::Float64, obs_dim::Int64, γ::Float64,
                 p_err::Float64, p_wlk::Float64, N_ens::Int64,
                 s_infl::Float64, p_infl::Float64})</code></pre><p>4DEnVAR joint state-parameter estimation twin experiment.  Twin experiment parameters such as the observation dimension, observation uncertainty, data assimilation method, number of cycles, ensemble size etc. are specified in the arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/2cb2df42a293a8923e99d2539df529908ca18258/src/experiments/SmootherExps.jl#L1505-L1514">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataAssimilationBenchmarks.SmootherExps.iterative_state-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :N_ens, :s_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Int64, Float64}}}" href="#DataAssimilationBenchmarks.SmootherExps.iterative_state-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :N_ens, :s_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Int64, Float64}}}"><code>DataAssimilationBenchmarks.SmootherExps.iterative_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">iterative_state(args::Tuple{String,String,Int64,Int64,Int64,Int64,Bool,Float64, 
                            Int64,Float64,Int64,Float64})</code></pre><p>4DEnVAR state estimation twin experiment.  Twin experiment parameters such as the observation dimension, observation uncertainty, data assimilation method, number of cycles, ensemble size etc. are specified in the arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/2cb2df42a293a8923e99d2539df529908ca18258/src/experiments/SmootherExps.jl#L1172-L1179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataAssimilationBenchmarks.SmootherExps.single_iteration_param-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :p_err, :p_wlk, :N_ens, :s_infl, :p_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Float64, Float64, Int64, Float64, Float64}}}" href="#DataAssimilationBenchmarks.SmootherExps.single_iteration_param-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :p_err, :p_wlk, :N_ens, :s_infl, :p_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Float64, Float64, Int64, Float64, Float64}}}"><code>DataAssimilationBenchmarks.SmootherExps.single_iteration_param</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">single_iteration_param((time_series::String, method::String, seed:Int64, nanl::Int64,
                        lag::Int64, shift::Int64, mda::Bool, obs_un::Float64,
                        obs_dim::Int64, γ::Float64, p_err::Float64, p_wlk::Float64,
                        N_ens::Int64, s_infl::Float64, p_infl::Float64)::NamedTuple)</code></pre><p>SIEnKS joint state-parameter estimation twin experiment.  Twin experiment parameters such as the observation dimension, observation uncertainty, data assimilation method, number of cycles, ensemble size etc. are specified in the arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/2cb2df42a293a8923e99d2539df529908ca18258/src/experiments/SmootherExps.jl#L812-L821">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DataAssimilationBenchmarks.SmootherExps.single_iteration_state-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :N_ens, :s_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Int64, Float64}}}" href="#DataAssimilationBenchmarks.SmootherExps.single_iteration_state-Tuple{NamedTuple{(:time_series, :method, :seed, :nanl, :lag, :shift, :mda, :obs_un, :obs_dim, :γ, :N_ens, :s_infl), &lt;:Tuple{String, String, Int64, Int64, Int64, Int64, Bool, Float64, Int64, Float64, Int64, Float64}}}"><code>DataAssimilationBenchmarks.SmootherExps.single_iteration_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">single_iteration_state((time_series::String, method::String, seed::Int64, nanl::Int64,
                        lag::Int64, shift::Int64, mda::Bool, obs_un::Float64,
                        obs_dim::Int64, γ::Float64, N_ens::Int64,
                        s_infl::Float64})::NamedTuple)</code></pre><p>SIEnKS state estimation twin experiment.  Twin experiment parameters such as the observation dimension, observation uncertainty, data assimilation method, number of cycles, ensemble size etc. are specified in the arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cgrudz/DataAssimilationBenchmarks.jl/blob/2cb2df42a293a8923e99d2539df529908ca18258/src/experiments/SmootherExps.jl#L511-L520">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../FilterExps/">« FilterExps</a><a class="docs-footer-nextpage" href="../SingleExperimentDriver/">SingleExperimentDriver »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Tuesday 28 June 2022 19:49">Tuesday 28 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
